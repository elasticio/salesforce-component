{
    "title":"Salesforce",
    "description" : "Customer relationship management (CRM) software & cloud computing from the leader in CRM solutions for businesses large & small.",
    "docsUrl": "https://github.com/elasticio/salesforce-component",
    "url" : "http://www.salesforce.com/",
    "envVars": {
        "SALESFORCE_KEY": {
            "required": true,
            "description": "Your Salesforce OAuth client key"
        },
        "SALESFORCE_SECRET": {
            "required": true,
            "description": "Your Salesforce OAuth client secret"
        }
    },
    "credentials" : {
        "fields":{
            "prodEnv" : {
                "label":"Environment",
                "viewClass":"SelectView",
                "required":true,
                "model":{
                    "test":"Sandbox",
                    "login":"Production"
                },
                "prompt":"Select environment"
            },
            "oauth":{
                "label":"Authentication",
                "viewClass":"OAuthFieldView",
                "required": true
            }
        },
        "oauth2":{
            "client_id":"{{SALESFORCE_KEY}}",
            "client_secret":"{{SALESFORCE_SECRET}}",
            "auth_uri":"https://{{prodEnv}}.salesforce.com/services/oauth2/authorize",
            "token_uri":"https://{{prodEnv}}.salesforce.com/services/oauth2/token"
        }
    },
    "triggers":{
        "queryTrigger": {
            "title": "SOQL Query",
            "main": "./lib/triggers/query.js",
            "type":"polling",
            "metadata": {
                "out": {}
            },
            "fields": {
                "query": {
                    "label": "SOQL Query",
                    "required": true,
                    "viewClass": "TextAreaView"
                }
            }
        },
        "newCase": {
            "title": "New Case",
            "main": "./lib/triggers/case.js",
            "type": "polling",
            "dynamicMetadata": true
        },
        "newLead":{
            "title":"New Lead",
            "main":"./lib/triggers/lead.js",
            "type":"polling",
            "dynamicMetadata":true
        },
        "newContact":{
            "title":"New Contact",
            "main":"./lib/triggers/contact.js",
            "type":"polling",
            "dynamicMetadata":true
        },
        "newAccount":{
            "title":"New Account",
            "main":"./lib/triggers/account.js",
            "type":"polling",
            "dynamicMetadata":true
        },
        "newTask":{
            "title":"New Task",
            "main":"./lib/triggers/task.js",
            "type":"polling",
            "dynamicMetadata":true
        },
        "entry":{
            "title":"New Other Object",
            "main":"./lib/entry.js",
            "type":"polling",
            "dynamicMetadata":true,
            "fields":{
                "object":{
                    "viewClass":"SelectView",
                    "label":"Object",
                    "required":true,
                    "model":"objectTypes",
                    "prompt":"Please select a Salesforce Object"
                }
            }
        }
    },
    "actions":{
        "queryAction": {
            "title": "Query",
            "main": "./lib/actions/query.js",
            "metadata": {
                "in": {
                    "type": "object",
                    "properties": {
                        "query": {
                            "maxLength": 20000,
                            "title": "SOQL Query",
                            "type": "string",
                            "required": true
                        }
                    }
                },
                "out": {}
            }
        },
        "account":{
            "title":"New Account",
            "main":"./lib/actions/account.js",
            "dynamicMetadata":true
        },
        "case":{
            "title":"New Case",
            "main":"./lib/actions/case.js",
            "dynamicMetadata":true
        },
        "contact":{
            "title":"New Contact",
            "main":"./lib/actions/contact.js",
            "dynamicMetadata":true
        },
        "event":{
            "title":"New Event",
            "main":"./lib/actions/event.js",
            "dynamicMetadata":true
        },
        "lead":{
            "title":"New Lead",
            "main":"./lib/actions/lead.js",
            "dynamicMetadata":true
        },
        "note":{
            "title":"New Note",
            "main":"./lib/actions/note.js",
            "dynamicMetadata":true
        },
        "task":{
            "title":"New Task",
            "main":"./lib/actions/task.js",
            "dynamicMetadata":true
        },
        "other":{
            "title":"Other Object",
            "main":"./lib/actions/other.js",
            "dynamicMetadata":true,
            "fields":{
                "object":{
                    "viewClass":"SelectView",
                    "label":"Object",
                    "required":true,
                    "model":"objectTypes",
                    "prompt":"Please select a Salesforce Object"
                }
            }
        }
    }
}
